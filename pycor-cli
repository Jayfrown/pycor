#!/usr/bin/env python2
# pycor-cli
#    container/overlay, python version
#

import sys
import traceback

from pycor import interact as i
from pycor.optparser import optargs


if __name__ == "__main__":

    # catch debug opt
    debug = True if optargs['--debug'] else False

    try:
        # dispatch function based on cli args
        from pycor.dispatch import dispatch
        dispatch( optargs['<action>'], optargs['<args>'] )
        sys.exit(0)

    except Exception as e:
        i.bMsg(str(e)) if not debug else i.bMsg(traceback.format_exc())
        sys.exit(1)
